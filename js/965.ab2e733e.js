"use strict";(self["webpackChunkmy_vue3_cli"]=self["webpackChunkmy_vue3_cli"]||[]).push([[965],{4965:function(t,i,r){r.r(i),r.d(i,{default:function(){return y}});var c=r(6768),s=r(4232);const e={class:"container"},a={"aria-label":"breadcrumb"},u={class:"breadcrumb"},o={class:"breadcrumb-item"},d={class:"breadcrumb-item active","aria-current":"page"},n={class:"row justify-content-center"},l={class:"col-8"},p=["src"],h={class:"col-4"},k={key:0,class:"h5"},v={key:1,class:"h6"},g={key:2,class:"h5"};function L(t,i,r,L,b,_){const m=(0,c.g2)("router-link");return(0,c.uX)(),(0,c.CE)("div",e,[(0,c.Lk)("nav",a,[(0,c.Lk)("ol",u,[(0,c.Lk)("li",o,[(0,c.bF)(m,{to:"/user/cart"},{default:(0,c.k6)(()=>i[1]||(i[1]=[(0,c.eW)("購物車",-1)])),_:1,__:[1]})]),(0,c.Lk)("li",d,(0,s.v_)(b.product.title),1)])]),(0,c.Lk)("div",n,[(0,c.Lk)("article",l,[(0,c.Lk)("h2",null,(0,s.v_)(b.product.title),1),(0,c.Lk)("div",null,(0,s.v_)(b.product.content),1),(0,c.Lk)("div",null,(0,s.v_)(b.product.description),1),(0,c.Lk)("img",{src:b.product.imageUrl,alt:"商品圖片",class:"img-fluid mb-3"},null,8,p)]),(0,c.Lk)("div",h,[b.product.price?(0,c.Q3)("",!0):((0,c.uX)(),(0,c.CE)("div",k,(0,s.v_)(b.product.origin_price)+" 元",1)),b.product.price?((0,c.uX)(),(0,c.CE)("del",v,"原價 "+(0,s.v_)(b.product.origin_price)+" 元",1)):(0,c.Q3)("",!0),b.product.price?((0,c.uX)(),(0,c.CE)("div",g,"現在只要 "+(0,s.v_)(b.product.price)+" 元",1)):(0,c.Q3)("",!0),i[2]||(i[2]=(0,c.Lk)("hr",null,null,-1)),(0,c.Lk)("button",{type:"button",class:"btn btn-outline-danger",onClick:i[0]||(i[0]=t=>_.addToCart(b.product.id))}," 加到購物車 ")])])])}r(4114);var b={name:"UserProduct",data(){return{product:{},id:"",isLoading:!1}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/yusei-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then(t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)})},addToCart(t,i=1){const r="https://vue3-course-api.hexschool.io/api/yusei-api/cart",c={product_id:t,qty:i};this.isLoading=!0,this.$http.post(r,{data:c}).then(t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),this.$router.push("/user/cart")})}},created(){this.id=this.$route.params.productId||"",this.id&&this.getProduct()},watch:{"$route.params.productId"(t){t&&(this.id=t,this.getProduct())}}},_=r(1241);const m=(0,_.A)(b,[["render",L]]);var y=m}}]);
//# sourceMappingURL=965.ab2e733e.js.map