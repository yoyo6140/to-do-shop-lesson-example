{"version":3,"file":"js/951.70ba7763.js","mappings":"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","sources":["webpack://my-vue3-cli/./src/views/MyProducts.vue","webpack://my-vue3-cli/./src/components/productModal.vue","webpack://my-vue3-cli/./src/components/productModal.vue?73ce","webpack://my-vue3-cli/./src/views/MyProducts.vue?a234","webpack://my-vue3-cli/./src/components/MyPagination.vue","webpack://my-vue3-cli/./src/components/MyPagination.vue?003f"],"sourcesContent":["<template>\r\n  <div class=\"text-end\">\r\n      <productModal  ref=\"productModal\"  :product=\"tempProduct\" @update-product=\"updateProduct\"></productModal>\r\n  </div>\r\n  <table class=\"table mt-4\">\r\n    <thead>\r\n      <tr>\r\n        <th width=\"120\">分類</th>\r\n        <th>產品名稱</th>\r\n        <th width=\"120\">原價</th>\r\n        <th width=\"120\">售價</th>\r\n        <th width=\"100\">是否啟用</th>\r\n        <th width=\"120\">編輯</th>\r\n      </tr>\r\n    </thead>\r\n    <VueLoading  v-model:active=\"isLoading\"/>\r\n    <tbody>\r\n      <tr v-for=\"item in products\" :key=\"item.id\">\r\n        <td>{{ item.category }}</td>\r\n        <td>{{ item.title }}</td>\r\n        <td class=\"text-right\">{{ $filters.currency(item.origin_price) }}</td>\r\n        <td class=\"text-right\">{{ $filters.currency(item.price) }}</td>\r\n        <td>\r\n          <span class=\"text-success\" v-if=\" item.is_enabled \">啟用</span>\r\n          <span class=\"text-muted\" v-else>未啟用</span>\r\n        </td>\r\n        <td>\r\n        <div class=\"btn-group\">\r\n          <button class=\"btn btn-outline-primary btn-sm\"\r\n            @click=\"openModal(false, item)\">編輯</button>\r\n            <button class=\"btn btn-outline-danger btn-sm\"\r\n            @click=\"openDelProductModal(item)\">刪除</button>\r\n        </div>\r\n      </td>\r\n      </tr>\r\n      \r\n    </tbody>\r\n  </table>\r\n  <MyPagination :pages=\"pagination\" @emit-pages=\"getProducts\"></MyPagination>\r\n  <DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\"/>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\nimport productModal from '@/components/productModal.vue';\r\nimport DelModal from '@/components/DelModals.vue';\r\nimport MyPagination from '@/components/MyPagination.vue';\r\n\r\nexport default {\r\n    name:'MyProducts',\r\n    components:{productModal,DelModal,MyPagination},\r\n    inject:['emitter'],\r\n    emits: ['update-product'],\r\n    data() {\r\n      return {\r\n        products:[],\r\n        pagination:{},\r\n        apiPath: 'yusei-api',\r\n        tempProduct:{},\r\n        isLoading:false\r\n      }\r\n    },\r\n    \r\n    methods: {\r\n      async getProducts(page = 1) {\r\n        const token = Cookies.get('token') || '';\r\n        if (!token) {\r\n          alert('尚未登入，請先登入');\r\n          return;\r\n        }\r\n        this.isLoading = true\r\n        try {\r\n          const res = await axios.get(`https://vue3-course-api.hexschool.io/api/${this.apiPath}/admin/products/?page=${page}`, {\r\n            headers: { Authorization: token }\r\n          });\r\n          console.log(res.data)\r\n          if (res.data.success) {\r\n            this.products = res.data.products;\r\n            this.pagination = res.data.pagination; //分頁引入\r\n          } else {\r\n            alert(res.data.message || '取得產品失敗');\r\n          }\r\n        } catch (err) {\r\n          console.error(err);\r\n          alert('網路錯誤');\r\n        }finally {\r\n          this.isLoading = false;\r\n        }\r\n      },\r\n      updateProduct(item) {\r\n        this.tempProduct = item;\r\n        const token = Cookies.get('token') || '';\r\n        if (!token) {\r\n          alert('尚未登入');\r\n          return;\r\n        }\r\n\r\n        let api = `https://vue3-course-api.hexschool.io/api/yusei-api/admin/product`;\r\n        let method = 'post';\r\n\r\n        // 如果有 id，表示是編輯 → 用 PUT\r\n        if (item.id) {\r\n          api = `https://vue3-course-api.hexschool.io/api/yusei-api/admin/product/${item.id}`;\r\n          method = 'put';\r\n        }\r\n\r\n        axios[method](api, { data: item }, { \r\n          headers: { Authorization: token } \r\n        })\r\n          .then(response => {\r\n            if(response.data.success) {\r\n              this.$refs.productModal.hideModal();\r\n              this.tempProduct = {}\r\n              this.emitter.emit('push-message', {\r\n                style:'success',\r\n                title: response.data.message || '更新成功'\r\n              });\r\n              this.getProducts();\r\n            } else {\r\n              // 後端回傳失敗訊息\r\n              this.emitter.emit('push-message', {\r\n                style:'danger',\r\n                title:'更新失敗',\r\n                content: response.data.message.join('、') || '發生錯誤'\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n            this.emitter.emit('push-message', {\r\n              style:'danger',\r\n              title:'更新失敗',\r\n              content: error.response?.data?.message?.join('、') || '發生錯誤'\r\n              \r\n            })\r\n          });\r\n      },\r\n\r\n\r\n      openDelProductModal(item) {\r\n            this.tempProduct = { ...item };\r\n            const delComponent = this.$refs.delModal;\r\n            delComponent.showModal();\r\n        },\r\n      openModal(isNew, product) {\r\n        if (isNew) {\r\n          this.tempProduct = {}; // 新增產品\r\n        } else {\r\n          this.tempProduct = JSON.parse(JSON.stringify(product));\r\n        }\r\n        this.$refs.productModal.showModal(); // 打開 productModal\r\n      },\r\n\r\n      delProduct() {\r\n        const url = `https://vue3-course-api.hexschool.io/api/yusei-api/admin/product/${this.tempProduct.id}`;\r\n        axios.delete(url, {\r\n          headers: { Authorization: Cookies.get('token') || '' }\r\n        })\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.$refs.delModal.hideModal();\r\n          this.getProducts();\r\n        })\r\n        .catch(err => console.error(err));\r\n      }\r\n    },\r\n    created() {\r\n      this.getProducts()\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n\r\n</style>","<template>\r\n  <!-- Button trigger modal -->\r\n  <button \r\n    type=\"button\" \r\n    class=\"btn btn-primary\" \r\n    @click=\"showModal\"\r\n  >\r\n    新增產品\r\n  </button>\r\n\r\n  <!-- Modal -->\r\n  <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"  ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">新增產品</h5>\r\n          <button type=\"button\" class=\"btn-close\" @click=\"hideModal\" aria-label=\"Close\"></button>\r\n        </div>\r\n\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-4\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"image\" placeholder=\"請輸入圖片連結\"  v-model=\"tempProduct.image\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n                  <i class=\"fas fa-spinner fa-spin\"></i>\r\n                </label>\r\n                <input \r\n                  type=\"file\" \r\n                  id=\"customFile\" \r\n                  class=\"form-control\"\r\n                  ref=\"fileInput\"\r\n                  @change=\"uploadFile\"\r\n                  >\r\n              </div>\r\n              <img class=\"img-fluid\" alt=\"\">\r\n\r\n              <!-- 延伸技巧，多圖 -->\r\n              <div class=\"mt-5\">\r\n                <button class=\"btn btn-outline-primary btn-sm d-block w-100\">新增圖片</button>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-sm-8\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"title\" class=\"form-label\">標題</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"請輸入標題\"  v-model=\"tempProduct.title\">\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"category\" class=\"form-label\">分類</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"category\" placeholder=\"請輸入分類\"  v-model=\"tempProduct.category\">\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"unit\" class=\"form-label\">單位</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"unit\" placeholder=\"請輸入單位\" v-model=\"tempProduct.unit\">\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                  <input type=\"number\" class=\"form-control\" id=\"origin_price\" placeholder=\"請輸入原價\" v-model.number=\"tempProduct.origin_price\">\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"price\" class=\"form-label\">售價</label>\r\n                  <input type=\"number\" class=\"form-control\" id=\"price\" placeholder=\"請輸入售價\" v-model.number=\"tempProduct.price\">\r\n                </div>\r\n              </div>\r\n\r\n              <hr>\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"description\" class=\"form-label\">產品描述</label>\r\n                <textarea class=\"form-control\" id=\"description\" placeholder=\"請輸入產品描述\"  v-model=\"tempProduct.description\"></textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"content\" class=\"form-label\">說明內容</label>\r\n                <textarea class=\"form-control\" id=\"content\" placeholder=\"請輸入產品說明內容\" v-model=\"tempProduct.content\"></textarea>\r\n              </div>\r\n              <div class=\"mb-3 form-check\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\" id=\"is_enabled\" v-model=\"tempProduct.is_enabled\">\r\n                <label class=\"form-check-label\" for=\"is_enabled\"  >是否啟用</label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"hideModal\">取消</button>\r\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"confirmProduct\">確認</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Modal } from 'bootstrap/dist/js/bootstrap.bundle.min';\r\nimport modalMixin from '../mixins/modalMinxin';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie'\r\n\r\nexport default {\r\n    name:'productModal',\r\n    mixins: [modalMixin],\r\n    props:{\r\n        product:{\r\n            type:Object,\r\n            default() {return {}}\r\n        }\r\n    },\r\n    watch: {\r\n        product() {\r\n            this.tempProduct = this.product\r\n            }\r\n        },\r\n    emits: ['update-product'], \r\n    data() {\r\n        return {\r\n            modal:{},\r\n            tempProduct:{}\r\n        }\r\n    },\r\n\r\n    methods:{\r\n       confirmProduct() {\r\n          if (!this.tempProduct.image) {\r\n            alert('請先上傳圖片或輸入圖片網址');\r\n            return; // 阻止送出\r\n          }\r\n          this.$emit('update-product', this.tempProduct)\r\n          this.hideModal()\r\n        }, // 其他 methods 如 uploadFile, showModal, hideModal...\r\n \r\n      showModal() {\r\n        this.modal.show()\r\n        \r\n      },\r\n        hideModal() {\r\n        const activeEl = document.activeElement;\r\n        if (this.$refs.modal.contains(activeEl)) {\r\n          activeEl.blur(); // 取消 focus\r\n        }\r\n        this.modal.hide()\r\n\r\n      },\r\n        async uploadFile() {\r\n        const uploadFile = this.$refs.fileInput.files[0]\r\n        const formData = new FormData()\r\n        formData.append('file-to-upload', uploadFile)\r\n        try {\r\n          const token =  Cookies.get('hexToken') // 同上\r\n          const apiPath = 'yusei-api'\r\n          const res = await axios.post(\r\n            `https://vue3-course-api.hexschool.io/api/${apiPath}/admin/upload`,\r\n            formData,\r\n            {\r\n              headers: {\r\n                Authorization: token,\r\n                'Content-Type': 'multipart/form-data'\r\n              }\r\n            }\r\n          )\r\n          if (res.data.success) {\r\n            console.log('檔案上傳成功', res.data.imageUrl)\r\n            // 將上傳結果存到 tempProduct.image\r\n            this.tempProduct.image = res.data.imageUrl\r\n          } else {\r\n            alert(res.data.message || '檔案上傳失敗')\r\n            console.warn(res.data)  // 印出回傳內容方便除錯\r\n          }\r\n        } catch (err) {\r\n          console.error(err)\r\n          alert('上傳發生錯誤')\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n        this.modal = new Modal(this.$refs.modal)\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.form-label,.form-check-label {\r\n  width: 100%;\r\n  text-align: left;\r\n}\r\n\r\n</style>","import { render } from \"./productModal.vue?vue&type=template&id=23b62a54\"\nimport script from \"./productModal.vue?vue&type=script&lang=js\"\nexport * from \"./productModal.vue?vue&type=script&lang=js\"\n\nimport \"./productModal.vue?vue&type=style&index=0&id=23b62a54&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MyProducts.vue?vue&type=template&id=520faa40\"\nimport script from \"./MyProducts.vue?vue&type=script&lang=js\"\nexport * from \"./MyProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <nav aria-label=\"Page navigation example\" v-if=\"pages && pages.total_pages > 0\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <!-- 上一頁 -->\r\n      <li class=\"page-item\" :class=\"{ disabled: pages.current_page <= 1 }\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(pages.current_page - 1)\">\r\n          &laquo;\r\n        </a>\r\n      </li>\r\n\r\n      <!-- 頁碼 -->\r\n      <li class=\"page-item\" \r\n          v-for=\"page in pages.total_pages\" \r\n          :key=\"page\"\r\n          :class=\"{ active: page === pages.current_page }\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\r\n      </li>\r\n\r\n      <!-- 下一頁 -->\r\n      <li class=\"page-item\" :class=\"{ disabled: pages.current_page >= pages.total_pages }\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(pages.current_page + 1)\">\r\n          &raquo;\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'MyPagination',\r\n    props: ['pages'],\r\n    methods: {\r\n        updatePage(page) {\r\n            this.$emit('emit-pages', page);\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render } from \"./MyPagination.vue?vue&type=template&id=cb729d12\"\nimport script from \"./MyPagination.vue?vue&type=script&lang=js\"\nexport * from \"./MyPagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_1","_createVNode","_component_productModal","ref","product","$data","tempProduct","onUpdateProduct","$options","updateProduct","_hoisted_2","width","_component_VueLoading","active","isLoading","$event","_createElementBlock","_Fragment","_renderList","products","item","key","id","_toDisplayString","category","title","_hoisted_3","_ctx","$filters","currency","origin_price","_hoisted_4","price","is_enabled","_hoisted_5","_hoisted_6","_hoisted_7","onClick","openModal","_hoisted_8","openDelProductModal","_hoisted_9","_component_MyPagination","pages","pagination","onEmitPages","getProducts","_component_DelModal","onDelItem","delProduct","tabindex","type","_cache","args","showModal","hideModal","for","placeholder","image","onChange","uploadFile","alt","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","unit","_hoisted_15","_hoisted_16","number","_hoisted_17","_hoisted_18","description","_hoisted_19","content","_hoisted_20","_hoisted_21","confirmProduct","name","mixins","modalMixin","props","Object","default","watch","this","emits","data","modal","methods","$emit","alert","show","activeEl","document","activeElement","$refs","contains","blur","hide","fileInput","files","formData","FormData","append","token","Cookies","get","apiPath","res","axios","post","headers","Authorization","success","console","log","imageUrl","message","warn","err","error","mounted","Modal","__exports__","components","productModal","DelModal","MyPagination","inject","page","api","method","then","response","emitter","emit","style","join","catch","delComponent","delModal","isNew","JSON","parse","stringify","url","delete","created","render","$props","total_pages","_normalizeClass","disabled","current_page","href","_withModifiers","updatePage"],"sourceRoot":""}