"use strict";(self["webpackChunkmy_vue3_cli"]=self["webpackChunkmy_vue3_cli"]||[]).push([[154],{1154:function(t,a,s){s.r(a),s.d(a,{default:function(){return F}});var e=s(6768);const n={class:"container-fluid"};function o(t,a,s,o,r,l){const i=(0,e.g2)("MyNavbar"),c=(0,e.g2)("router-view"),u=(0,e.g2)("ToastMessages");return(0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.bF)(i,{logout:l.logout},null,8,["logout"]),(0,e.Lk)("div",n,[(0,e.bF)(c)]),(0,e.bF)(u)],64)}s(4114);var r=s(8704),l=s(5130);const i={class:"navbar navbar-expand-lg navbar-light bg-light"},c={class:"container-fluid"},u={class:"collapse navbar-collapse",id:"navbarText"},v={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item"},g={class:"nav-item"},b={class:"nav-item"},m={class:"nav-item"},k={class:"navbar-text"};function p(t,a,s,n,o,r){const p=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.Lk)("nav",i,[(0,e.Lk)("div",c,[a[6]||(a[6]=(0,e.Lk)("a",{class:"navbar-brand",href:"#"},"香菇圖",-1)),a[7]||(a[7]=(0,e.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,e.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,e.Lk)("div",u,[(0,e.Lk)("ul",v,[(0,e.Lk)("li",d,[(0,e.bF)(p,{to:"/dashboard/products",class:"nav-link"},{default:(0,e.k6)(()=>a[1]||(a[1]=[(0,e.eW)("產品",-1)])),_:1,__:[1]})]),(0,e.Lk)("li",g,[(0,e.bF)(p,{to:"/dashboard/orders",class:"nav-link"},{default:(0,e.k6)(()=>a[2]||(a[2]=[(0,e.eW)("訂單",-1)])),_:1,__:[2]})]),(0,e.Lk)("li",b,[(0,e.bF)(p,{to:"/dashboard/coupons",class:"nav-link"},{default:(0,e.k6)(()=>a[3]||(a[3]=[(0,e.eW)("優惠券",-1)])),_:1,__:[3]})]),(0,e.Lk)("li",m,[(0,e.Lk)("a",{class:"nav-link",href:"#",onClick:a[0]||(a[0]=(0,l.D$)((...t)=>s.logout&&s.logout(...t),["prevent"]))},"登出")])]),a[5]||(a[5]=(0,e.Lk)("span",{class:"navbar-text"}," Blog ",-1)),(0,e.Lk)("span",k,[(0,e.bF)(p,{to:"/user/cart",class:"nav-link"},{default:(0,e.k6)(()=>a[4]||(a[4]=[(0,e.eW)("購物車",-1)])),_:1,__:[4]})])])])])])}var f={name:"MyNavbar",props:["logout"]},h=s(1241);const L=(0,h.A)(f,[["render",p]]);var _=L,y=s(7901),C=s(7086),T={name:"DashBoard",components:{MyNavbar:_,ToastMessages:C.A},data(){return{user:{}}},provide(){return{emitter:y.A}},created(){const t=r.A.get("token");t||this.$router.push("/login")},methods:{logout(){r.A.remove("token"),this.$router.push("/login")}}};const A=(0,h.A)(T,[["render",o]]);var F=A},7086:function(t,a,s){s.d(a,{A:function(){return h}});var e=s(6768);const n={class:"toast-container position-absolute pe-3 top-0 end-0"};function o(t,a,s,o,r,l){const i=(0,e.g2)("ToastList");return(0,e.uX)(),(0,e.CE)("div",n,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(r.messages,t=>((0,e.uX)(),(0,e.Wv)(i,{key:t.id,msg:t},null,8,["msg"]))),128))])}s(4114);var r=s(4232);const l={class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},i={class:"toast-header"},c={class:"me-auto"},u={key:0,class:"toast-body"};function v(t,a,s,n,o,v){return(0,e.uX)(),(0,e.CE)("div",l,[(0,e.Lk)("div",i,[(0,e.Lk)("span",{class:(0,r.C4)(`bg-${s.msg.style} p-2 rounded me-2 d-inline-block`)},null,2),(0,e.Lk)("strong",c,(0,r.v_)(s.msg.title),1),a[0]||(a[0]=(0,e.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1))]),s.msg.content?((0,e.uX)(),(0,e.CE)("div",u,(0,r.v_)(s.msg.content),1)):(0,e.Q3)("",!0)],512)}var d=s(323),g={name:"ToastList",props:["msg"],mounted(){const t=this.$refs.toast,a=new d.Toast(t,{delay:6e3});a.show()}},b=s(1241);const m=(0,b.A)(g,[["render",v]]);var k=m,p={name:"ToastMessages",components:{ToastList:k},data(){return{messages:[]}},inject:["emitter"],mounted(){this.emitter.on("push-message",t=>{const{style:a="success",title:s,content:e}=t,n=Date.now();this.messages.push({id:n,style:a,title:s,content:e})})}};const f=(0,b.A)(p,[["render",o]]);var h=f},7901:function(t,a,s){s.d(a,{A:function(){return o}});s(4114),s(8111),s(1701);function e(t){return{all:t=t||new Map,on:function(a,s){var e=t.get(a);e?e.push(s):t.set(a,[s])},off:function(a,s){var e=t.get(a);e&&(s?e.splice(e.indexOf(s)>>>0,1):t.set(a,[]))},emit:function(a,s){var e=t.get(a);e&&e.slice().map(function(t){t(s)}),(e=t.get("*"))&&e.slice().map(function(t){t(a,s)})}}}const n=e();var o=n}}]);
//# sourceMappingURL=154.31df7b36.js.map