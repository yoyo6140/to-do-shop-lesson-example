{"version":3,"file":"js/154.31df7b36.js","mappings":"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","sources":["webpack://my-vue3-cli/./src/views/DashBoard.vue","webpack://my-vue3-cli/./src/components/MyNavbar.vue","webpack://my-vue3-cli/./src/components/MyNavbar.vue?4da3","webpack://my-vue3-cli/./src/views/DashBoard.vue?836e","webpack://my-vue3-cli/./src/components/ToastMessages.vue","webpack://my-vue3-cli/./src/components/ToastList.vue","webpack://my-vue3-cli/./src/components/ToastList.vue?e15a","webpack://my-vue3-cli/./src/components/ToastMessages.vue?2a51","webpack://my-vue3-cli/../src/index.ts","webpack://my-vue3-cli/./src/methods/emitter.js"],"sourcesContent":["<template>    \r\n    <MyNavbar :logout=\"logout\"></MyNavbar>\r\n    <div class=\"container-fluid\">\r\n        <router-view></router-view>\r\n    </div>\r\n    <ToastMessages />\r\n</template>\r\n\r\n<script>\r\nimport Cookies from 'js-cookie'\r\nimport MyNavbar from '@/components/MyNavbar.vue'\r\nimport emitter from '@/methods/emitter'\r\nimport ToastMessages from '@/components/ToastMessages.vue'\r\nexport default {\r\n    name:'DashBoard',\r\n    components:{MyNavbar,ToastMessages},\r\n    data() {\r\n        return {\r\n            user: {}\r\n        }\r\n    },\r\n    provide() {\r\n        return {\r\n            emitter\r\n        }\r\n    },\r\n    created() {\r\n        const token = Cookies.get('token')\r\n        if (!token) {\r\n        this.$router.push('/login')\r\n        }\r\n    },\r\n    methods: {\r\n        logout() {\r\n        Cookies.remove('token')\r\n        this.$router.push('/login')\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","<template>\r\n  <div>\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div class=\"container-fluid\">\r\n        <a class=\"navbar-brand\" href=\"#\">香菇圖</a>\r\n        <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarText\" aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarText\">\r\n          <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/dashboard/products\" class=\"nav-link\">產品</router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n               <router-link to=\"/dashboard/orders\" class=\"nav-link\">訂單</router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/dashboard/coupons\" class=\"nav-link\">優惠券</router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\" @click.prevent=\"logout\">登出</a>\r\n            </li>\r\n          </ul>\r\n          <span class=\"navbar-text\">\r\n            Blog\r\n          </span>\r\n          <span class=\"navbar-text\">\r\n            <router-link to=\"/user/cart\" class=\"nav-link\">購物車</router-link>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'MyNavbar',\r\n    props: [\r\n        'logout' // 父層傳入的 logout\r\n    ]\r\n        \r\n    \r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./MyNavbar.vue?vue&type=template&id=eaa84b24\"\nimport script from \"./MyNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./MyNavbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DashBoard.vue?vue&type=template&id=266ceb49\"\nimport script from \"./DashBoard.vue?vue&type=script&lang=js\"\nexport * from \"./DashBoard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"toast-container position-absolute pe-3 top-0 end-0\">\r\n    <ToastList  v-for=\"msg in messages\"\r\n      :key=\"msg.id\"\r\n      :msg=\"msg\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ToastList from './ToastList.vue';\r\nexport default {\r\n    name:'ToastMessages',\r\n    components:{ToastList},\r\n    data() {\r\n        return {\r\n            messages:[]\r\n        }\r\n    },\r\n    inject:['emitter'],\r\n    mounted() {\r\n        this.emitter.on('push-message',(message)=> {\r\n                const { style = 'success', title, content} =message;\r\n                const id = Date.now(); // ✅ 每個訊息有唯一 id\r\n                this.messages.push({id, style, title, content})\r\n\r\n                \r\n            }\r\n        )\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","<template>\r\n  <div class=\"toast\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" ref=\"toast\">\r\n    <div class=\"toast-header\">\r\n      <span :class=\"`bg-${msg.style} p-2 rounded me-2 d-inline-block`\"></span>\r\n      <strong class=\"me-auto\">{{ msg.title }}</strong>\r\n      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"toast-body\" v-if=\"msg.content\">\r\n      {{ msg.content }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'bootstrap/dist/js/bootstrap.bundle.min';\r\nexport default {\r\n    name:'ToastList',\r\n    props:[\r\n        'msg'\r\n    ],\r\n    mounted() {\r\n        \r\n        const toastEl = this.$refs.toast\r\n        const toast = new Toast(toastEl, {\r\n            delay:6000\r\n        })\r\n        toast.show();\r\n        \r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./ToastList.vue?vue&type=template&id=2add6115\"\nimport script from \"./ToastList.vue?vue&type=script&lang=js\"\nexport * from \"./ToastList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToastMessages.vue?vue&type=template&id=1570b074\"\nimport script from \"./ToastMessages.vue?vue&type=script&lang=js\"\nexport * from \"./ToastMessages.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<\n\tWildcardHandler<T>\n>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(\n\t\ttype: Key,\n\t\thandler?: Handler<Events[Key]>\n\t): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(\n\t\ttype: undefined extends Events[Key] ? Key : never\n\t): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t} else {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from (`'*'` to remove a wildcard handler)\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t} else {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n","import mitt from \"mitt\";\r\n\r\nconst emitter = mitt();\r\n\r\nexport default emitter"],"names":["class","_createVNode","_component_MyNavbar","logout","$options","_createElementVNode","_hoisted_1","_component_router_view","_component_ToastMessages","id","_createElementBlock","_hoisted_2","href","type","_hoisted_3","_hoisted_4","_hoisted_5","_component_router_link","to","_cache","_hoisted_6","_hoisted_7","_hoisted_8","onClick","_withModifiers","args","$props","_hoisted_9","name","props","__exports__","components","MyNavbar","ToastMessages","data","user","provide","emitter","created","token","Cookies","get","this","$router","push","methods","remove","render","_Fragment","_renderList","$data","messages","msg","_createBlock","_component_ToastList","key","role","ref","_normalizeClass","style","_toDisplayString","title","content","mounted","toastEl","$refs","toast","Toast","delay","show","ToastList","inject","on","message","Date","now","n","all","Map","t","e","i","set","off","splice","indexOf","emit","slice","map","mitt"],"sourceRoot":""}