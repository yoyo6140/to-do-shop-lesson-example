{"version":3,"file":"js/823.70759d94.js","mappings":"mMACOA,MAAM,kB,GAEFA,MAAM,Y,GAEJA,MAAM,Q,GASNA,MAAM,Q,0CAbjBC,EAAAA,EAAAA,IA2BM,MA3BNC,EA2BM,EA1BJC,EAAAA,EAAAA,IAyBO,QAzBDH,MAAM,6BAA8BI,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,IAAA,IAAAC,IAAUC,EAAAC,QAAAD,EAAAC,UAAAF,GAAM,e,EAC9DJ,EAAAA,EAAAA,IAuBM,MAvBNO,EAuBM,C,aAtBJP,EAAAA,EAAAA,IAAgD,MAA5CH,MAAM,8BAA6B,QAAI,KAC3CG,EAAAA,EAAAA,IAQM,MARNQ,EAQM,E,SAPJR,EAAAA,EAAAA,IAME,SALAS,KAAK,OACLZ,MAAM,eACNa,YAAY,gBACZC,SAAA,G,qCACSC,EAAAC,KAAKC,SAAQC,I,iBAAbH,EAAAC,KAAKC,eAGlBd,EAAAA,EAAAA,IAQM,MARNgB,EAQM,E,SAPJhB,EAAAA,EAAAA,IAME,SALAS,KAAK,WACLZ,MAAM,eACNa,YAAY,WACZC,SAAA,G,qCACSC,EAAAC,KAAKI,SAAQF,I,iBAAbH,EAAAC,KAAKI,c,aAGlBjB,EAAAA,EAAAA,IAEM,OAFDH,MAAM,iBAAe,EACxBG,EAAAA,EAAAA,IAA0E,UAAlEH,MAAM,mCAAmCY,KAAK,UAAS,Q,mCAUzE,GACES,IAAAA,GACE,MAAO,CACLL,KAAK,CACHC,SAAS,GACTG,SAAS,IAGf,EACAE,QAAS,CACP,YAAMb,GACJ,MAAMc,EAAM,oDACZ,IACE,MAAMC,QAAYC,EAAAA,EAAMC,KAAKH,EAAKI,KAAKX,MACvC,GAAGQ,EAAIH,KAAKO,QAAS,CACnB,MAAM,MAAEC,EAAK,QAAEC,GAAYN,EAAIH,KAC/BU,SAASC,OAAS,SAASH,cAAkB,IAAII,KAAKH,GAASI,wBAC/DP,KAAKQ,QAAQC,KAAK,sBACpB,MACEC,MAAMb,EAAIH,KAAKiB,SAAW,OAE9B,CAAE,MAAOC,GACPC,QAAQC,MAAMF,GACdF,MAAM,OACR,CACF,I,UCpDJ,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://my-vue3-cli/./src/views/MyLogin.vue","webpack://my-vue3-cli/./src/views/MyLogin.vue?deb5"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n    <form class=\"row justify-content-center\" @submit.prevent=\"signIn\">\r\n      <div class=\"col-md-6\">\r\n        <h1 class=\"h3 mb-3 font-weight-normal\">請先登入</h1>\r\n        <div class=\"mb-2\">\r\n          <input \r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"Email address\"\r\n            required\r\n            v-model=\"user.username\"\r\n          />\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <input \r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            placeholder=\"Password\"\r\n            required\r\n            v-model=\"user.password\"\r\n          />\r\n        </div>\r\n        <div class=\"text-end mt-4\">\r\n          <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登入</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user:{\r\n        username:'',\r\n        password:''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async signIn() {\r\n      const api = `${process.env.VUE_APP_API}admin/signin`;\r\n      try {\r\n        const res = await axios.post(api, this.user);\r\n        if(res.data.success) {\r\n          const { token, expired } = res.data;\r\n          document.cookie = `token=${token}; expires=${new Date(expired).toUTCString()}; path=/`;\r\n          this.$router.push('/dashboard/products');\r\n        } else {\r\n          alert(res.data.message || '登入失敗');\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n        alert('網路錯誤');\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"@/assets/all.scss\"\r\n</style>\r\n","import { render } from \"./MyLogin.vue?vue&type=template&id=c3aca03c\"\nimport script from \"./MyLogin.vue?vue&type=script&lang=js\"\nexport * from \"./MyLogin.vue?vue&type=script&lang=js\"\n\nimport \"./MyLogin.vue?vue&type=style&index=0&id=c3aca03c&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","signIn","_hoisted_2","_hoisted_3","type","placeholder","required","$data","user","username","$event","_hoisted_4","password","data","methods","api","res","axios","post","this","success","token","expired","document","cookie","Date","toUTCString","$router","push","alert","message","err","console","error","__exports__","render"],"sourceRoot":""}