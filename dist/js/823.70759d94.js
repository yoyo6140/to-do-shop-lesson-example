"use strict";(self["webpackChunkmy_vue3_cli"]=self["webpackChunkmy_vue3_cli"]||[]).push([[823],{5823:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});var r=t(6768),n=t(5130);const o={class:"container mt-5"},a={class:"col-md-6"},c={class:"mb-2"},u={class:"mb-2"};function l(e,s,t,l,i,d){return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("form",{class:"row justify-content-center",onSubmit:s[2]||(s[2]=(0,n.D$)((...e)=>d.signIn&&d.signIn(...e),["prevent"]))},[(0,r.Lk)("div",a,[s[3]||(s[3]=(0,r.Lk)("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1)),(0,r.Lk)("div",c,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"Email address",required:"","onUpdate:modelValue":s[0]||(s[0]=e=>i.user.username=e)},null,512),[[n.Jo,i.user.username]])]),(0,r.Lk)("div",u,[(0,r.bo)((0,r.Lk)("input",{type:"password",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=e=>i.user.password=e)},null,512),[[n.Jo,i.user.password]])]),s[4]||(s[4]=(0,r.Lk)("div",{class:"text-end mt-4"},[(0,r.Lk)("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"登入")],-1))])],32)])}t(4114);var i=t(4373),d={data(){return{user:{username:"",password:""}}},methods:{async signIn(){const e="https://vue3-course-api.hexschool.io/admin/signin";try{const s=await i.A.post(e,this.user);if(s.data.success){const{token:e,expired:t}=s.data;document.cookie=`token=${e}; expires=${new Date(t).toUTCString()}; path=/`,this.$router.push("/dashboard/products")}else alert(s.data.message||"登入失敗")}catch(s){console.error(s),alert("網路錯誤")}}}},p=t(1241);const m=(0,p.A)(d,[["render",l]]);var h=m}}]);
//# sourceMappingURL=823.70759d94.js.map