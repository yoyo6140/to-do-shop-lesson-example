{"version":3,"file":"js/883.80fed990.js","mappings":"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","sources":["webpack://my-vue3-cli/./src/views/UserProduct.vue","webpack://my-vue3-cli/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/user/cart\">購物車</router-link></li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\r\n      </ol>\r\n    </nav>\r\n    <div class=\"row justify-content-center\">\r\n      <article class=\"col-8\">\r\n        <h2>{{ product.title }}</h2>\r\n        <div>{{ product.content }}</div>\r\n        <div>{{ product.description }}</div>\r\n        <img \r\n            :src=\"product.imageUrl ? product.imageUrl : '/images/default.png'\" \r\n            alt=\"商品圖片\" \r\n            class=\"img-fluid mb-3\"\r\n            />\r\n      </article>\r\n      <div class=\"col-4\">\r\n        <div class=\"h5\" v-if=\"!product.price\">{{ product.origin_price }} 元</div>\r\n        <del class=\"h6\" v-if=\"product.price\">原價 {{ product.origin_price }} 元</del>\r\n        <div class=\"h5\" v-if=\"product.price\">現在只要 {{ product.price }} 元</div>\r\n        <hr>\r\n        <button type=\"button\" class=\"btn btn-outline-danger\"\r\n                @click=\"addToCart(product.id)\">\r\n          加到購物車\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'UserProduct',\r\n    data() {\r\n        return {\r\n        product: {},\r\n        id: '',\r\n        isLoading: false,\r\n        };\r\n    },\r\n    methods: {\r\n        getProduct() {\r\n        const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\r\n        this.isLoading = true;\r\n        this.$http.get(api).then((response) => {\r\n            console.log(response.data);\r\n            this.isLoading = false;\r\n            if (response.data.success) {\r\n            this.product = response.data.product;\r\n            }\r\n        });\r\n        },\r\n        addToCart(id, qty = 1) {\r\n        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n        const cart = {\r\n            product_id: id,\r\n            qty,\r\n        };\r\n        this.isLoading = true;\r\n        this.$http.post(url, { data: cart }).then((response) => {\r\n            this.isLoading = false;\r\n            this.$httpMessageState(response, '加入購物車');\r\n            this.$router.push('/user/cart');\r\n        });\r\n        },\r\n    },\r\n    created() {\r\n        this.id = this.$route.params.productId || '';\r\n        if (this.id) {\r\n            this.getProduct(); // 第一次就抓資料\r\n        }\r\n    },\r\n    watch:{'$route.params.productId'(newId) {\r\n            if (newId) {\r\n            this.id = newId;\r\n            this.getProduct();\r\n            }\r\n        }\r\n        }\r\n    };\r\n</script>","import { render } from \"./UserProduct.vue?vue&type=template&id=e839e99c\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","_cache","_hoisted_5","_toDisplayString","$data","product","title","_hoisted_6","_hoisted_7","content","description","src","imageUrl","alt","_hoisted_9","price","_hoisted_10","origin_price","_hoisted_11","_hoisted_12","type","onClick","$event","$options","addToCart","id","name","data","isLoading","methods","getProduct","api","this","$http","get","then","response","console","log","success","qty","url","cart","product_id","post","$httpMessageState","$router","push","created","$route","params","productId","watch","newId","__exports__","render"],"sourceRoot":""}